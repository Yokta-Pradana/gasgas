<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulasi Gas Ideal</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .simulation-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .gas-chamber {
            width: 600px;
            height: 400px;
            border: 4px solid #fff;
            border-radius: 15px;
            position: relative;
            margin: 0 auto 30px;
            background: rgba(0, 0, 0, 0.2);
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #ee5a52);
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            transition: none;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .control-group {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            border-radius: 12px;
            backdrop-filter: blur(5px);
        }

        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .slider {
            width: 120px;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(238, 90, 82, 0.3);
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(238, 90, 82, 0.4);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
            backdrop-filter: blur(5px);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .gas-chamber {
                width: 90vw;
                max-width: 500px;
                height: 300px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Simulasi Gas Ideal</h1>
        <p class="subtitle">Amati bagaimana partikel gas bergerak secara acak dalam ruang tertutup</p>
        
        <div class="simulation-container">
            <div class="gas-chamber" id="gasChamber"></div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="particleCount">Jumlah Partikel: <span id="particleCountValue">50</span></label>
                    <input type="range" id="particleCount" class="slider" min="10" max="150" value="50">
                </div>
                
                <div class="control-group">
                    <label for="speed">Kecepatan: <span id="speedValue">2</span></label>
                    <input type="range" id="speed" class="slider" min="0.5" max="5" step="0.1" value="2">
                </div>
                
                <div class="control-group">
                    <label for="temperature">Suhu: <span id="temperatureValue">300K</span></label>
                    <input type="range" id="temperature" class="slider" min="100" max="800" step="10" value="300">
                </div>
            </div>
            
            <div class="controls">
                <button class="button" id="playPause">‚è∏Ô∏è Jeda</button>
                <button class="button" id="reset">üîÑ Reset</button>
            </div>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="avgSpeed">0</div>
                    <div class="stat-label">Kecepatan Rata-rata (px/s)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="collisions">0</div>
                    <div class="stat-label">Tumbukan per Detik</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="pressure">0</div>
                    <div class="stat-label">Tekanan Relatif</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class Particle {
            constructor(x, y, vx, vy, size, color) {
                this.x = x;
                this.y = y;
                this.vx = vx;
                this.vy = vy;
                this.size = size;
                this.color = color;
                this.element = this.createElement();
            }
            
            createElement() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = this.size + 'px';
                particle.style.height = this.size + 'px';
                particle.style.background = this.color;
                return particle;
            }
            
            update(chamber, speedMultiplier) {
                // Update posisi
                this.x += this.vx * speedMultiplier;
                this.y += this.vy * speedMultiplier;
                
                // Tumbukan dengan dinding
                if (this.x <= this.size/2 || this.x >= chamber.width - this.size/2) {
                    this.vx = -this.vx;
                    this.x = Math.max(this.size/2, Math.min(chamber.width - this.size/2, this.x));
                    return true; // Tumbukan terjadi
                }
                
                if (this.y <= this.size/2 || this.y >= chamber.height - this.size/2) {
                    this.vy = -this.vy;
                    this.y = Math.max(this.size/2, Math.min(chamber.height - this.size/2, this.y));
                    return true; // Tumbukan terjadi
                }
                
                return false;
            }
            
            render() {
                this.element.style.left = (this.x - this.size/2) + 'px';
                this.element.style.top = (this.y - this.size/2) + 'px';
            }
            
            getSpeed() {
                return Math.sqrt(this.vx * this.vx + this.vy * this.vy);
            }
        }

        class GasSimulation {
            constructor() {
                this.chamber = document.getElementById('gasChamber');
                this.particles = [];
                this.isRunning = true;
                this.animationId = null;
                this.collisionCount = 0;
                this.lastCollisionTime = Date.now();
                
                this.initializeControls();
                this.createParticles();
                this.animate();
            }
            
            initializeControls() {
                const particleCountSlider = document.getElementById('particleCount');
                const speedSlider = document.getElementById('speed');
                const temperatureSlider = document.getElementById('temperature');
                const playPauseBtn = document.getElementById('playPause');
                const resetBtn = document.getElementById('reset');
                
                particleCountSlider.addEventListener('input', (e) => {
                    document.getElementById('particleCountValue').textContent = e.target.value;
                    this.updateParticleCount(parseInt(e.target.value));
                });
                
                speedSlider.addEventListener('input', (e) => {
                    document.getElementById('speedValue').textContent = e.target.value;
                });
                
                temperatureSlider.addEventListener('input', (e) => {
                    const temp = e.target.value;
                    document.getElementById('temperatureValue').textContent = temp + 'K';
                    this.updateTemperature(parseInt(temp));
                });
                
                playPauseBtn.addEventListener('click', () => {
                    this.toggleSimulation();
                });
                
                resetBtn.addEventListener('click', () => {
                    this.reset();
                });
            }
            
            createParticles() {
                const count = parseInt(document.getElementById('particleCount').value);
                const chamberRect = this.chamber.getBoundingClientRect();
                
                // Bersihkan partikel yang ada
                this.particles.forEach(particle => {
                    if (particle.element.parentNode) {
                        particle.element.parentNode.removeChild(particle.element);
                    }
                });
                this.particles = [];
                
                for (let i = 0; i < count; i++) {
                    const size = Math.random() * 8 + 6; // 6-14px
                    const x = Math.random() * (chamberRect.width - size) + size/2;
                    const y = Math.random() * (chamberRect.height - size) + size/2;
                    const speed = Math.random() * 3 + 1;
                    const angle = Math.random() * Math.PI * 2;
                    const vx = Math.cos(angle) * speed;
                    const vy = Math.sin(angle) * speed;
                    
                    // Warna berdasarkan kecepatan
                    const hue = Math.random() * 60 + 340; // Merah ke kuning
                    const color = `hsl(${hue}, 80%, 60%)`;
                    
                    const particle = new Particle(x, y, vx, vy, size, color);
                    this.particles.push(particle);
                    this.chamber.appendChild(particle.element);
                }
            }
            
            updateParticleCount(count) {
                this.createParticles();
            }
            
            updateTemperature(temp) {
                // Suhu mempengaruhi kecepatan partikel
                const tempFactor = temp / 300; // 300K sebagai referensi
                this.particles.forEach(particle => {
                    const currentSpeed = particle.getSpeed();
                    const newSpeed = Math.sqrt(tempFactor) * 2;
                    const speedRatio = newSpeed / currentSpeed;
                    particle.vx *= speedRatio;
                    particle.vy *= speedRatio;
                    
                    // Update warna berdasarkan suhu
                    const hue = Math.max(240 - (temp - 100) / 700 * 240, 0); // Biru ke merah
                    particle.element.style.background = `hsl(${hue}, 80%, 60%)`;
                });
            }
            
            animate() {
                if (!this.isRunning) return;
                
                const speedMultiplier = parseFloat(document.getElementById('speed').value);
                const chamberRect = this.chamber.getBoundingClientRect();
                let frameCollisions = 0;
                
                this.particles.forEach(particle => {
                    const collision = particle.update({
                        width: chamberRect.width,
                        height: chamberRect.height
                    }, speedMultiplier);
                    
                    if (collision) {
                        frameCollisions++;
                    }
                    
                    particle.render();
                });
                
                this.collisionCount += frameCollisions;
                this.updateStats();
                
                this.animationId = requestAnimationFrame(() => this.animate());
            }
            
            updateStats() {
                // Kecepatan rata-rata
                const avgSpeed = this.particles.reduce((sum, p) => sum + p.getSpeed(), 0) / this.particles.length;
                document.getElementById('avgSpeed').textContent = Math.round(avgSpeed * 10);
                
                // Tumbukan per detik
                const now = Date.now();
                if (now - this.lastCollisionTime >= 1000) {
                    document.getElementById('collisions').textContent = this.collisionCount;
                    this.collisionCount = 0;
                    this.lastCollisionTime = now;
                }
                
                // Tekanan relatif (berdasarkan jumlah partikel dan kecepatan)
                const pressure = Math.round((this.particles.length * avgSpeed) / 10);
                document.getElementById('pressure').textContent = pressure;
            }
            
            toggleSimulation() {
                const btn = document.getElementById('playPause');
                if (this.isRunning) {
                    this.isRunning = false;
                    cancelAnimationFrame(this.animationId);
                    btn.textContent = '‚ñ∂Ô∏è Mulai';
                } else {
                    this.isRunning = true;
                    this.animate();
                    btn.textContent = '‚è∏Ô∏è Jeda';
                }
            }
            
            reset() {
                this.collisionCount = 0;
                this.lastCollisionTime = Date.now();
                document.getElementById('particleCount').value = 50;
                document.getElementById('speed').value = 2;
                document.getElementById('temperature').value = 300;
                document.getElementById('particleCountValue').textContent = '50';
                document.getElementById('speedValue').textContent = '2';
                document.getElementById('temperatureValue').textContent = '300K';
                this.createParticles();
                
                if (!this.isRunning) {
                    this.toggleSimulation();
                }
            }
        }

        // Mulai simulasi
        window.addEventListener('load', () => {
            new GasSimulation();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9849514873408a13',t:'MTc1ODc5MDY4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
